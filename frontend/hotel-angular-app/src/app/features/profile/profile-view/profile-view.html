<p>profile-view works!</p>
<div class="profile-container">
  <div class="page-header">
    <h1>Mon Profil</h1>
    <p>Gérez vos informations personnelles</p>
  </div>

  <div class="profile-content">
    <mat-card class="profile-card">
      <mat-card-header>
        <div class="profile-avatar">
          <mat-icon>account_circle</mat-icon>
        </div>
        <mat-card-title *ngIf="currentUser$ | async as user">
          {{ user.firstName }} {{ user.lastName }}
        </mat-card-title>
        <mat-card-subtitle *ngIf="currentUser$ | async as user">
          {{ user.email }}
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          <div class="form-row">
            <mat-form-field appearance="outline" class="half-width">
              <mat-label>Prénom</mat-label>
              <input 
                matInput 
                formControlName="firstName"
                [readonly]="!editMode"
              >
              <mat-icon matPrefix>person</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline" class="half-width">
              <mat-label>Nom</mat-label>
              <input 
                matInput 
                formControlName="lastName"
                [readonly]="!editMode"
              >
              <mat-icon matPrefix>person</mat-icon>
            </mat-form-field>
          </div>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Email</mat-label>
            <input 
              matInput 
              type="email"
              formControlName="email"
            >
            <mat-icon matPrefix>email</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Téléphone</mat-label>
            <input 
              matInput 
              formControlName="phoneNumber"
              [readonly]="!editMode"
            >
            <mat-icon matPrefix>phone</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Adresse</mat-label>
            <input 
              matInput 
              formControlName="address"
              [readonly]="!editMode"
            >
            <mat-icon matPrefix>home</mat-icon>
          </mat-form-field>

          <div class="form-row">
            <mat-form-field appearance="outline" class="half-width">
              <mat-label>Ville</mat-label>
              <input 
                matInput 
                formControlName="city"
                [readonly]="!editMode"
              >
              <mat-icon matPrefix>location_city</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline" class="half-width">
              <mat-label>Pays</mat-label>
              <input 
                matInput 
                formControlName="country"
                [readonly]="!editMode"
              >
              <mat-icon matPrefix>flag</mat-icon>
            </mat-form-field>
          </div>

          <div class="form-actions">
            <button 
              *ngIf="!editMode"
              mat-raised-button 
              color="primary"
              type="button"
              (click)="toggleEditMode()"
            >
              <mat-icon>edit</mat-icon>
              Modifier
            </button>

            <ng-container *ngIf="editMode">
              <button 
                mat-raised-button 
                type="button"
                (click)="toggleEditMode()"
              >
                Annuler
              </button>
              <button 
                mat-raised-button 
                color="primary"
                type="submit"
                [disabled]="loading || profileForm.invalid"
              >
                <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>
                <span *ngIf="!loading">Enregistrer</span>
              </button>
            </ng-container>
          </div>
        </form>
      </mat-card-content>
    </mat-card>

    <mat-card class="stats-card">
      <mat-card-header>
        <mat-card-title>Statistiques</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-item">
          <mat-icon color="primary">book_online</mat-icon>
          <div>
            <h3>0</h3>
            <p>Réservations totales</p>
          </div>
        </div>
        <mat-divider></mat-divider>
        <div class="stat-item">
          <mat-icon color="accent">receipt</mat-icon>
          <div>
            <h3>0 DT</h3>
            <p>Montant total dépensé</p>
          </div>
        </div>
        <mat-divider></mat-divider>
        <div class="stat-item">
          <mat-icon style="color: #4caf50;">hotel</mat-icon>
          <div>
            <h3>0</h3>
            <p>Nuits réservées</p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>